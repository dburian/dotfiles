#!/bin/sh

some_func() {
  echo 'calling some func'
  return
}

activate_virtual_environment() {
  #
  # Activates python virtual environment stored in ~/.local/share/python-venvs/
  #

  activate_path="/home/dburian/.local/share/python-venvs/$1/bin/activate"

  [ ! -e "$activate_path" ] && echo "Environment \"$1\" was not found." && return 1

  source $activate_path
  return 0
}

tmux() {
  #
  # Wraps tmux
  #

  # If there is a .tmux file, reconstruct the project's tmux session or create a
  # new one
  if [ -x .tmux ]; then
    echo "running tmux fiule"
    FPATH=~/.config/tmux/funcs:"$FPATH" ./.tmux "$@"
    return
  fi

  # If called with args, continue straight to tmux
  if [[ -n "$@" ]]; then
    command tmux "$@"
    return
  fi


  local session_name=$(basename $(pwd))
  command tmux new-session -A -s "$session_name"
}

directory() {
  #
  # Quickly navigate to a folder with fzf
  #

  cd $(find . -type d 2>/dev/null | fzf)
}

edit-file() {
  #
  # Quickly edit a file with fzf
  #

  file=$(find . -type f 2>/dev/null | fzf )

  if [ -z "$file" ] ; then
    return
  fi

  nvim $file
}
activate-nvm() {
  #
  # Loads nvm, node, npm and all other node-based programs.
  #
  [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
}
